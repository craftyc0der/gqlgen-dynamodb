"""
This object represents fields of custom data type.
"""
type ApplicationCustomData {
	foo: String!
	bar: String!
}

"""
This object represents fields from custom data source.
"""
type ApplicationCustomSource {
	custom: [ApplicationCustomData!]
}

"""
This object represents a single Application Company.
"""
type ApplicationCompany {
	"primary key generated by the server"
	companyID: ID! @dynamodbColumn(fieldName: "companyId", fieldType: "S") @uuid(hashKey: true)
	"name of company"
	companyName: String! @dynamodbColumn(fieldName: "userName", fieldType: "S")
	"epoch millis timestamp"
	createDate: Int!
		@timestamp(immutable: true)
		@dynamodbColumn(fieldName: "createDate", fieldType: "N")
}

"""
This object represents a single Application User.
"""
type ApplicationUser {
	"primary key generated by the server"
	userID: ID! @dynamodbColumn(fieldName: "userId", fieldType: "S") @uuid(hashKey: true)
	"name of user"
	userName: String! @dynamodbColumn(fieldName: "userName", fieldType: "S")
	"companyID used to link a user to a company"
	companyID: String @dynamodbColumn(fieldName: "companyId", fieldType: "S")
	company: ApplicationCompany @dynamodbSubquery(
		parentHashKeyModelName: "UserID",
		foreignHashKeyRequired: false,
		foreignHashKey: "CompanyID",
		hashKeyFieldName: "companyId",
		hashKeyFieldType: "S",
		hashKeyModelName: "CompanyID",
		className: "ApplicationCompany"
		table: "application-company",
		limit: 1,
	)
	"epoch millis timestamp"
	createDate: Int!
		@timestamp(immutable: true)
		@dynamodbColumn(fieldName: "createDate", fieldType: "N")
	"return list of languages user speaks"
	languages: [ApplicationUserLanguage!]!
	  @dynamodbSubquery(
			parentHashKeyModelName: "UserID",
			foreignHashKeyRequired: true,
			foreignHashKey: "UserID",
			foreignRangeKey: "Language",
			hashKeyFieldName: "userId",
			hashKeyFieldType: "S",
			hashKeyModelName: "UserID",
			className: "ApplicationUserLanguage",
			table: "application-userLanguage",
			query: true,
		)
	"return opjects from custom source"
	customData: ApplicationCustomSource @customSubquery(
		package: "custom",
		function: "GetCustomData",
	)
}

"""
This object represents languages user's have command of.
"""
type ApplicationUserLanguage {
	"primary key generated by the server"
	userID: ID! @dynamodbColumn(fieldName: "userId", fieldType: "S")
	"language"
	userLanguage: String!
		@dynamodbColumn(fieldName: "userLanguage", fieldType: "S")
}

type Query {
	"""
	Return a Application User object from userID.
	"""
	getApplicationUser(
		"userID is the unique identifier for the user"
		userID: String! @dynamodbHashKey @example(value: "00000000-0000-0000-0000-000000000000")
	): ApplicationUserList!
		@authorizedRole(
			serviceRoles: ["service-one"]
			userRoles: ["system-admin"]
		)
		@dynamodbQuery(
			table: "application-user"
		)

	"""
	Return a Application User object by userName.
	"""
	searchApplicationUser(
		"userName of the user"
		userName: String! @dynamodbHashKey @example(value: "craftycoder")
	): ApplicationUserList!
		@authorizedRole(
			serviceRoles: ["service-one"]
			userRoles: ["system-admin"]
		)
		@dynamodbQuery(
			table: "application-user",
      index: "userName-index"
		)

	"""
	Return a list of all Application Company objects.
	"""
	listApplicationCompany: ApplicationCompanyList!
		@authorizedRole(
			serviceRoles: ["service-one"]
			userRoles: ["system-admin"]
		)
		@dynamodbQuery(
			table: "application-company"
		)
}

type Mutation {
	"""
	Creates a new Application User object.
	"""
	createApplicationUser(
		"name of user"
		userName: String! @example(value: "testuser6")
		"companyId of the user"
		companyID: String! @example(value: "10101010-0000-0000-0000-000000000000")
	): ApplicationUserList!
    @authorizedRole(
			serviceRoles: ["service-one"]
			userRoles: ["system-admin"]
		)
		@dynamodbQuery(
			table: "application-user"
			insert: true
			update: false
			consistentRead: true
		)

	"""
	Update an Application User object.
	"""
	updateApplicationUser(
    "userID is the unique identifier for the user"
		userID: String! @dynamodbHashKey @example(value: "00000000-0000-0000-0000-000000000000")
		"name of user"
		userName: String! @dynamodbRangeKey @example(value: "craftycoder")
		"companyId of the user"
		companyID: String! @example(value: "10101010-0000-0000-0000-000000000000")
	): ApplicationUserList!
    @authorizedRole(
			serviceRoles: ["service-one"]
			userRoles: ["system-admin"]
		)
		@dynamodbQuery(
			table: "application-user"
			insert: false
			update: true
			consistentRead: true
		)

	"""
	Creates a new Application User Language object.
	"""
	createApplicationUserLanguage(
		"userID is the unique identifier for the user"
		userID: String! @dynamodbHashKey @example(value: "00000000-0000-0000-0000-000000000000")
		"language"
		userLanguage: String! @dynamodbRangeKey @example(value: "english")
	): ApplicationUserLanguageList!
    @authorizedRole(
			serviceRoles: ["service-one"]
			userRoles: ["system-admin"]
		)
		@dynamodbQuery(
			table: "application-userLanguage"
			insert: true
			update: false
			consistentRead: true
		)

	"""
	Delete an Application User Language object.
	"""
	deleteApplicationUserLanguage(
    "userID is the unique identifier for the user"
		userID: String! @dynamodbHashKey @example(value: "00000000-0000-0000-0000-000000000000")
		"language"
		userLanguage: String! @dynamodbRangeKey @example(value: "english")
	): ApplicationUserLanguageList
    @authorizedRole(
			serviceRoles: ["service-one"]
			userRoles: ["system-admin"]
		)
		@dynamodbQuery(
			table: "application-userLanguage"
			insert: false
			update: false
      delete: true
			consistentRead: true
		)
}

"""
List of [ApplicationUser](#applicationuser) objects
[examples](https://github.com/craftyc0der/gqlgen-dynamodb/blob/master/graphql.md#applicationuser)
"""
type ApplicationUserList {
	items: [ApplicationUser!]!
}

"""
List of [ApplicationCompany](#applicationcompany) objects
[examples](https://github.com/craftyc0der/gqlgen-dynamodb/blob/master/graphql.md#applicationcompany)
"""
type ApplicationCompanyList {
	items: [ApplicationCompany!]!
}

"""
List of [ApplicationUserLanguage](#applicationuserlanguage) objects
[examples](https://github.com/craftyc0der/gqlgen-dynamodb/blob/master/graphql.md#applicationuserlanguage)
"""
type ApplicationUserLanguageList {
	items: [ApplicationUserLanguage!]!
}
